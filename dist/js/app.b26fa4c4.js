(function(){"use strict";var t={1600:function(t,e,o){var n=o(9242),s=o(3396);const i={id:"app"};function r(t,e,o,n,r,a){const l=(0,s.up)("SpinerLoader"),c=(0,s.up)("NotificationVue"),u=(0,s.up)("PosterBG"),d=(0,s.up)("HeaderVue"),v=(0,s.up)("MoviesList"),m=(0,s.up)("MoviesPagination");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(l),(0,s.Wm)(c),(0,s.Wm)(u,{poster:r.posterBG},null,8,["poster"]),(0,s.Wm)(d),(0,s.Wm)(v,{list:t.moviesList,onChangePoster:a.onChangePoster},null,8,["list","onChangePoster"]),(0,s.Wm)(m,{total:t.moviesLength,onChangePage:a.onChangePage},null,8,["total","onChangePage"])])}var a=o(65);const l=t=>((0,s.dD)("data-v-4f9e60cf"),t=t(),(0,s.Cn)(),t),c={key:0,class:"loaderWrap"},u=l((()=>(0,s._)("div",{class:"spinner-grow text-light",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1))),d=[u];function v(t,e,o,n,i,r){return t.isShowLoader?((0,s.wg)(),(0,s.iD)("div",c,d)):(0,s.kq)("",!0)}var m={name:"SpinerLoader",computed:{...(0,a.Se)(["isShowLoader"])}},p=o(89);const h=(0,p.Z)(m,[["render",v],["__scopeId","data-v-4f9e60cf"]]);var g=h;const f=t=>((0,s.dD)("data-v-88586b46"),t=t(),(0,s.Cn)(),t),w={class:"container"},_=f((()=>(0,s._)("h3",{class:"listTitle"},"IMDB Top 250",-1))),b={class:"row"},y={key:1};function I(t,e,o,n,i,r){const a=(0,s.up)("ModalWindow"),l=(0,s.up)("movie-item");return(0,s.wg)(),(0,s.iD)(s.HY,null,[((0,s.wg)(),(0,s.j4)(a,{isOpen:r.isOpened,movieInfo:i.info,key:i.myKey},null,8,["isOpen","movieInfo"])),(0,s._)("div",w,[_,(0,s._)("div",b,[r.isExist?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.list,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"col-3",key:e},[(0,s.Wm)(l,{movie:t,onMouseover:e=>r.onMouseOver(t.Poster),onRemoveItem:r.onRemoveItem,onShowModal:r.onShowMovieInfo},null,8,["movie","onMouseover","onRemoveItem","onShowModal"])])))),128)):((0,s.wg)(),(0,s.iD)("div",y,"Empty list"))])])],64)}var P=o(7139);const M={class:"movieItem mb-3"},O={class:"movieInfoWrap"},S={class:"movieItemInfo"},E={class:"movieTitle"},D={class:"movieYear"},C={class:"movieItemControls row no-gutters"},L={class:"col"},k={class:"col"};function T(t,e,o,n,i,r){return(0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("div",{class:"movieItemPoster",style:(0,P.j5)(r.posterBG)},null,4),(0,s._)("div",O,[(0,s._)("div",S,[(0,s._)("h3",E,(0,P.zw)(o.movie.Title),1),(0,s._)("span",D,(0,P.zw)(o.movie.Year),1)]),(0,s._)("div",C,[(0,s._)("div",L,[(0,s._)("button",{type:"button",class:"btn btn-outline-light w-100",onClick:e[0]||(e[0]=(...t)=>r.showInfoModalEvent&&r.showInfoModalEvent(...t))}," Info ")]),(0,s._)("div",k,[(0,s._)("button",{type:"button",class:"btn btn-outline-light w-100",onClick:e[1]||(e[1]=(...t)=>r.emitRemoveEvent&&r.emitRemoveEvent(...t))}," Remove ")])])])])}var W={name:"MovieItem",props:{movie:{type:Object,required:!0}},computed:{posterBG(){return{"background-image":`url(${this.movie.Poster})`}}},methods:{emitRemoveEvent(){this.$emit("removeItem",{id:this.movie.imdbID,title:this.movie.Title})},showInfoModalEvent(){this.$emit("showModal",this.movie.imdbID)}}};const R=(0,p.Z)(W,[["render",T],["__scopeId","data-v-190a6b89"]]);var V=R;const x=t=>((0,s.dD)("data-v-63545411"),t=t(),(0,s.Cn)(),t),G={key:0,class:"movie-info-wrap container-sm"},B={class:"movie-info-header"},j=x((()=>(0,s._)("h6",{class:"movie-header-title"},"Movie view",-1))),A={class:"movie-info-content"},N={class:"row"},z={class:"col-md-4"},$={class:"movie-poster-wrap"},Z={class:"col-md-8"},H={class:"movie-title"},Y={class:"movie-description"},K={class:"mt-3 mb-4"},U={class:"badge text-bg-success"},F={class:"badge text-bg-success"},q={class:"badge text-bg-success"},J={class:"badge text-bg-success"},Q={class:"table small"},X=x((()=>(0,s._)("th",null,"Production",-1))),tt=x((()=>(0,s._)("th",null,"Country",-1))),et=x((()=>(0,s._)("th",null,"Director",-1))),ot=x((()=>(0,s._)("th",null,"Writer",-1))),nt=x((()=>(0,s._)("th",null,"Actors",-1))),st=x((()=>(0,s._)("th",null,"Awards",-1)));function it(t,e,o,n,i,r){return r.checkWindow?((0,s.wg)(),(0,s.iD)("div",G,[(0,s._)("header",B,[j,(0,s._)("i",{class:"bi bi-x-lg closeBtn",onClick:e[0]||(e[0]=(...t)=>r.closeWindow&&r.closeWindow(...t))})]),(0,s._)("div",A,[(0,s._)("div",N,[(0,s._)("div",z,[(0,s._)("div",$,[(0,s._)("div",{class:"movie-poster",style:(0,P.j5)(i.cssProps)},null,4)])]),(0,s._)("div",Z,[(0,s._)("h3",H,(0,P.zw)(o.movieInfo.Title),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.createStars,(t=>((0,s.wg)(),(0,s.iD)("b",{key:t,class:(0,P.C_)(t)},null,2)))),128)),(0,s._)("p",Y,(0,P.zw)(o.movieInfo.Plot),1),(0,s._)("div",K,[(0,s._)("span",U,(0,P.zw)(o.movieInfo.Year),1),(0,s._)("span",F,(0,P.zw)(o.movieInfo.Runtime),1),(0,s._)("span",q,(0,P.zw)(o.movieInfo.Genre),1),(0,s._)("span",J,(0,P.zw)(o.movieInfo.Language),1)]),(0,s._)("table",Q,[(0,s._)("tbody",null,[(0,s._)("tr",null,[X,(0,s._)("td",null,(0,P.zw)(o.movieInfo.Production),1)]),(0,s._)("tr",null,[tt,(0,s._)("td",null,(0,P.zw)(o.movieInfo.Country),1)]),(0,s._)("tr",null,[et,(0,s._)("td",null,(0,P.zw)(o.movieInfo.Director),1)]),(0,s._)("tr",null,[ot,(0,s._)("td",null,(0,P.zw)(o.movieInfo.Writer),1)]),(0,s._)("tr",null,[nt,(0,s._)("td",null,(0,P.zw)(o.movieInfo.Actors),1)]),(0,s._)("tr",null,[st,(0,s._)("td",null,(0,P.zw)(o.movieInfo.Awards),1)])])])])])])])):(0,s.kq)("",!0)}var rt={name:"ModalWindow",data(){return{openWindow:this.isOpen,cssProps:{backgroundImage:`url(${this.movieInfo.Poster})`},starsArray:[1,2,3,4,5,6,7,8,9,10]}},props:["isOpen","movieInfo"],methods:{closeWindow(){this.openWindow=!1}},computed:{checkWindow(){return this.openWindow},createStars(){const t=this.movieInfo.imdbRating,e=this.starsArray.map(((e,o,n)=>e<=t?"bi bi-star-fill":e>t&&n[o-1]<t?"bi bi-star-half":"bi bi-star"));return console.log(e),e}}};const at=(0,p.Z)(rt,[["render",it],["__scopeId","data-v-63545411"]]);var lt=at,ct={name:"MoviesList",props:{list:{type:Object,default(){return{}}}},data(){return{info:"",open:!1,myKey:""}},components:{MovieItem:V,ModalWindow:lt},computed:{isExist(){return Boolean(Object.keys(this.list).length)},isOpened(){return console.log(this.open),this.open}},methods:{...(0,a.nv)("movies",["removeMovie"]),...(0,a.nv)(["showNotify"]),onMouseOver(t){this.$emit("changePoster",t)},onRemoveItem({id:t,title:e}){const o=confirm(`Do you want to delete the movie: ${e}?`);o&&(this.removeMovie(t),this.showNotify({varient:"dufault",msg:`Movie ${e} deleted succsesful`,title:"Succses"}))},onShowMovieInfo(t){this.open=!0,this.info=this.list[t],this.myKey=Math.random(),console.log(this.info)}}};const ut=(0,p.Z)(ct,[["render",I],["__scopeId","data-v-88586b46"]]);var dt=ut;function vt(t,e,o,n,i,r){const a=(0,s.up)("paginate");return(0,s.wg)(),(0,s.j4)(a,{"page-count":o.total,"page-range":4,"margin-pages":1,"click-handler":r.clickCallback,"prev-text":"Prev","next-text":"Next","container-class":"pagination","page-class":"page-item"},null,8,["page-count","click-handler"])}var mt=o(4501),pt={name:"MoviesPagination",data(){return{currentPage:1,perPage:12}},props:{total:{type:Number,default:1}},components:{paginate:mt.Z},methods:{clickCallback(t){this.$emit("changePage",t)}}};const ht=(0,p.Z)(pt,[["render",vt]]);var gt=ht;function ft(t,e,o,n,i,r){return(0,s.wg)(),(0,s.iD)("div",{class:"posterPageBg",style:(0,P.j5)(r.posterStyle)},null,4)}var wt={name:"PosterBG",props:{poster:{type:String,default:""}},data(){return{defaultPosterBG:"linear-gradient(45deg, rgb(0, 3, 18) 0%, rgb(82, 15, 117) 100%)"}},computed:{posterStyle(){return{"background-image":this.posterBg}},posterBg(){return this.poster?`url(${this.poster})`:this.defaultPosterBG}}};const _t=(0,p.Z)(wt,[["render",ft],["__scopeId","data-v-9ddde448"]]);var bt=_t;const yt=t=>((0,s.dD)("data-v-ed7b0216"),t=t(),(0,s.Cn)(),t),It={class:"header"},Pt={class:"navbar bg-body-tertiary"},Mt={class:"container-fluid"},Ot=yt((()=>(0,s._)("h2",{class:"navBrand"},"MovieDB",-1))),St={class:"d-flex",role:"search"};function Et(t,e,o,i,r,a){return(0,s.wg)(),(0,s.iD)("header",It,[(0,s._)("nav",Pt,[(0,s._)("div",Mt,[Ot,(0,s._)("form",St,[(0,s.wy)((0,s._)("input",{class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search","onUpdate:modelValue":e[0]||(e[0]=t=>r.searchValue=t)},null,512),[[n.nr,r.searchValue]])])])])])}var Dt={name:"HeaderVue",data(){return{searchValue:""}},watch:{searchValue:"onSearchValueChanged"},methods:{...(0,a.nv)("movies",["searchMovie","fetchMovies"]),onSearchValueChanged(t){t?this.searchMovie(t):this.fetchMovies()}}};const Ct=(0,p.Z)(Dt,[["render",Et],["__scopeId","data-v-ed7b0216"]]);var Lt=Ct;function kt(t,e,o,n,i,r){return(0,s.wg)(),(0,s.iD)("div")}var Tt=o(3836),Wt={name:"NotificationVue",computed:{...(0,a.Se)(["massagePool"])},watch:{massagePool:"setup"},methods:{setup({varient:t,msg:e="",title:o=""}){(0,Tt.Am)(`${o}\n${e}`,{autoClose:1e3,pauseOnHover:!0,type:t,bodyClassName:"toastText"})}}};const Rt=(0,p.Z)(Wt,[["render",kt]]);var Vt=Rt,xt={name:"App",components:{MoviesList:dt,PosterBG:bt,MoviesPagination:gt,SpinerLoader:g,HeaderVue:Lt,NotificationVue:Vt},data(){return{posterBG:""}},computed:{...(0,a.Se)("movies",["moviesList","moviesLength"])},methods:{...(0,a.nv)("movies",["changeCurrentPage"]),onChangePoster(t){this.posterBG=t},onChangePage(t){this.changeCurrentPage(t)}}};const Gt=(0,p.Z)(xt,[["render",r]]);var Bt=Gt,jt=o(1076);const At=jt.Z.create({baseURL:"http://www.omdbapi.com",params:{apikey:"18aa5861",plot:"full"}});var Nt=At,zt=["tt0111161","tt0068646","tt0071562","tt0468569","tt0050083","tt0108052","tt0167260","tt0110912","tt0060196","tt0137523","tt0120737","tt0109830","tt0080684","tt1375666","tt0167261","tt0073486","tt0099685","tt0133093","tt0047478","tt0114369","tt0317248","tt0076759","tt0102926","tt0038650","tt0118799","tt4633694","tt0114814","tt0245429","tt0120815","tt0110413","tt0120689","tt0816692","tt0054215","tt0120586","tt0021749","tt0064116","tt0034583","tt0027977","tt0253474","tt1675434","tt0407887","tt0088763","tt0103064","tt2582802","tt0047396","tt0082971","tt0110357","tt0172495","tt0482571","tt0078788","tt0209144","tt0078748","tt0095765","tt0032553","tt0095327","tt0043014","tt0405094","tt0057012","tt4154756","tt0050825","tt0081505","tt1853728","tt0910970","tt0119698","tt0051201","tt0364569","tt1345836","tt0169547","tt0090605","tt0087843","tt2380307","tt0082096","tt0033467","tt0112573","tt0052357","tt0053125","tt0105236","tt0086190","tt5311514","tt0022100","tt0086879","tt5074352","tt0180093","tt0986264","tt0056172","tt1187043","tt0338013","tt0062622","tt0066921","tt0114709","tt0211915","tt0036775","tt0045152","tt0075314","tt0361748","tt0093058","tt0040522","tt0056592","tt0012349","tt0070735","tt0119217","tt0435761","tt2106476","tt0208092","tt0086250","tt0071853","tt0059578","tt0053604","tt0017136","tt0119488","tt1832382","tt0097576","tt0042876","tt1049413","tt0042192","tt0372784","tt0055630","tt0053291","tt0105695","tt0363163","tt0095016","tt0040897","tt0113277","tt8108198","tt0044741","tt1255953","tt0081398","tt0057115","tt0118849","tt0457430","tt0476735","tt0071315","tt0041959","tt0096283","tt0347149","tt0089881","tt0055031","tt1305806","tt0015864","tt0050212","tt0268978","tt1727824","tt0120735","tt0112641","tt0047296","tt5027774","tt0050976","tt2096673","tt0080678","tt0993846","tt3170832","tt0434409","tt0031679","tt1291584","tt0083658","tt0046912","tt0050986","tt0017925","tt0477348","tt0117951","tt0469494","tt0167404","tt0031381","tt0084787","tt0116282","tt1205489","tt0077416","tt0266543","tt0091251","tt0015324","tt0118715","tt1130884","tt0266697","tt0061512","tt0032976","tt0046438","tt0978762","tt2119532","tt2267998","tt0892769","tt0018455","tt3011894","tt0107290","tt0758758","tt0120382","tt0107207","tt2278388","tt0025316","tt0079470","tt0092005","tt0091763","tt0079944","tt0116231","tt0074958","tt0353969","tt0060827","tt0052618","tt0395169","tt2024544","tt0405159","tt0060107","tt0019254","tt0046268","tt0112471","tt1979320","tt1392190","tt0053198","tt1392214","tt1028532","tt1895587","tt3315342","tt0245712","tt0405508","tt0093779","tt0264464","tt0087544","tt1201607","tt0064115","tt0075148","tt0072684","tt0198781","tt0032551","tt0033870","tt0097165","tt0088247","tt0246578","tt0083987","tt0046911","tt0113247","tt0107048","tt0050783","tt0032138","tt0118694","tt0073195","tt1454029","tt4016934","tt2991224","tt4430212","tt0056443","tt0381681","tt0070510","tt0087884","tt0092067","tt1954470","tt0036868","tt0083922","tt2338151","tt2015381","tt0169102","tt0056801"],$t={MOVIES:"MOVIES",CURRENT_PAGE:"CURRENT_PAGE",TOGGLE_LOADER:"TOGGLE_LOADER",REMOVE_MOVIE:"REMOVE_MOVIE",SHOW_TOAST_NOTIFY:"SHOW_TOAST_NOTIFY"};const Zt=t=>t.reduce(((t,e)=>(t[e.imdbID]=e,t)),{}),{MOVIES:Ht,CURRENT_PAGE:Yt,REMOVE_MOVIE:Kt}=$t,Ut={namespaced:!0,state:{top250IDs:zt,moviesPerPage:12,currentPage:1,movies:{}},getters:{moviesList({movies:t}){return t},slicedIDs({top250IDs:t}){return(e,o)=>t.slice(e,o)},currentPage({currentPage:t}){return t},moviesPerPage({moviesPerPage:t}){return t},moviesLength({top250IDs:t}){return Math.ceil(Object.keys(t).length/12)}},mutations:{[Ht](t,e){t.movies=e},[Yt](t,e){t.currentPage=e},[Kt](t,e){t.top250IDs.splice(e,1)}},actions:{initMoviesStore:{handler({dispatch:t}){t("fetchMovies")},root:!0},async fetchMovies({getters:t,commit:e,dispatch:o}){try{o("toggleLoader",!0,{root:!0});const{currentPage:n,moviesPerPage:s,slicedIDs:i}=t,r=n*s-s,a=n*s,l=i(r,a),c=l.map((t=>Nt.get(`/?i=${t}`))),u=await Promise.all(c),d=u.map((t=>t.data)),v=Zt(d);e(Ht,v)}catch(n){console.log(n)}finally{o("toggleLoader",!1,{root:!0})}},changeCurrentPage({commit:t,dispatch:e},o){t(Yt,o),e("fetchMovies")},removeMovie({commit:t,dispatch:e,state:o},n){const s=o.top250IDs.findIndex((t=>t===n));-1!==s&&(t(Kt,s),e("fetchMovies"))},async searchMovie({commit:t,dispatch:e},o){console.log(o);try{e("toggleLoader",!0,{root:!0});const n=await Nt.get(`/?s=${o}`),s=Zt(n.data.Search);if(t(Ht,s),n.data.Error)throw new Error(n.data.Error)}catch(n){console.log(n),e("showNotify",{varient:"error",msg:"Movie is not found",title:"Error"},{root:!0})}finally{e("toggleLoader",!1,{root:!0})}}}};var Ft=Ut;const{TOGGLE_LOADER:qt}=$t,Jt={state:{isShowLoader:!1},getters:{isShowLoader({isShowLoader:t}){return t}},mutations:{[qt](t,e){t.isShowLoader=e}},actions:{toggleLoader({commit:t},e){t(qt,e)}}};var Qt=Jt;o(560);const{SHOW_TOAST_NOTIFY:Xt}=$t,te={state:{massagePool:[]},getters:{massagePool({massagePool:t}){return t[t.length-1]}},mutations:{[Xt](t,e){t.massagePool.push(e)}},actions:{showNotify({commit:t},e){t(Xt,e)}}};var ee=te;const oe=(0,a.MT)({state:{},getters:{},mutations:{},actions:{},modules:{movies:Ft,loaderStore:Qt,notificationStore:ee}});oe.dispatch("initMoviesStore");var ne=oe;(0,n.ri)(Bt).use(ne).mount("#app")}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,i){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],i=t[u][2];for(var a=!0,l=0;l<n.length;l++)(!1&i||r>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(a=!1,i<r&&(r=i));if(a){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,s,i]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,i,r=n[0],a=n[1],l=n[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(s in a)o.o(a,s)&&(o.m[s]=a[s]);if(l)var u=l(o)}for(e&&e(n);c<r.length;c++)i=r[c],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(u)},n=self["webpackChunkomdbmovies"]=self["webpackChunkomdbmovies"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(1600)}));n=o.O(n)})();
//# sourceMappingURL=app.b26fa4c4.js.map